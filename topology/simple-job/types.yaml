tosca_definitions_version: alien_dsl_2_0_0

metadata:
  template_name: org.ystia.heappe.topology.SimpleJob
  template_version: 1.0.0-SNAPSHOT
  template_author: ystia

description: ""

imports:
- tosca-normative-types:1.0.0-ALIEN20
- org.ystia.heappe.components.pub:1.1.0-SNAPSHOT
- org.ystia.heappe.components.bash:1.1.0-SNAPSHOT

topology_template:
  inputs:
    heappe_url:
      type: string
      required: true
      description: "HEAppE Middleware URL"
    user:
      type: string
      required: true
      description: "User of HEAppE Middleware"
    password:
      type: string
      required: true
    template_name:
      type: string
      required: true
      description: "Name of the command template to use"
  node_templates:
    Command:
      type: org.ystia.heappe.components.bash.Command
      properties:
        heappe_url: { get_input: heappe_url }
        user: { get_input: user }
        password: { get_input: password }
        template_name: { get_input: template_name }
    LaunchJob:
      type: org.ystia.heappe.components.bash.LaunchJob
      requirements:
      - commandToSubmit:
          capability: org.ystia.heappe.components.pub.capabilities.Command
          node: Command
          relationship: tosca.relationships.DependsOn
          occurrences: [1, 1]
